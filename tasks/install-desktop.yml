
---

  - name: Installing base tools
    zypper:
      state: latest
      name:
        - chrony
        - ansible
        - openvpn
        - git
        - neovim
        - nodejs10    # Needed for NeoVIM Coc plugin
        - neofetch
        - sshfs
        - ccrypt
        - fping
        - sudo
        - flatpak
        - cryfs
        - pwgen
        - tree
        - tmux
      when: install_base | bool

  - name: Installing LXQT desktop environment
    shell: zypper -n in --type=pattern lxqt
      when: install_desktop | bool

  - name: Installing desktop utilities
    zypper:
      state: latest
      name:
        - lightdm-slick-greeter-branding-openSUSE
        - lxde-common-branding-openSUSE
        - virt-manager
        - NetworkManager
        - NetworkManager-openvpn
        - NetworkManager-openvpn-gnome
        - picom
        - blueman
        - owncloud-client
        - owncloud-client-dolphin
        - syncthing
        - qsyncthingtray
        - keepassxc
        - torbrowser-launcher
        - remmina
        - remmina-plugin-rdp
        - remmina-plugin-spice
        - remmina-plugin-vnc
        - remmina-plugin-xdmcp
        - remmina-plugins-gnome
        - transmission-qt
        - kwrite
        - ktimer
        - konsole
        - filelight
        - ksysguard5
        - qpdfview
        - gtk2-metatheme-numix
        - gtk3-metatheme-numix
        - breeze5-wallpapers
        - paper-icon-theme
        - origami-icon-theme
        - lxrandr
        - kcalc
        - dolphin
        - upower
        - zeal
        - gimp
      when: install_desktop_utils | bool

  - name: Installing Fonts
    zypper:
      state: latest
      name:
        - ubuntu-fonts
        - google-droid-fonts
        - kde-oxygen-fonts
        - liberation-fonts
        - lato-fonts
      when: install_desktop | bool
    
  - name: Installing Office tools
    zypper:
      state: latest
      name:
        - kmymoney
        - libreoffice-base
        - libreoffice-writer
        - libreoffice-calc
        - libreoffice-draw
        - libreoffice-gtk3
        - odt2txt
      when: install_officetools | bool

  - name: Increasing window handler in default theme
    lineinfile:
      path: /usr/share/themes/Numix/openbox-3/themerc
      regexp: '^window.handle.width'
      line: 'window.handle.width: 6'
      when: install_desktop | bool

  - name: Copying wallpaper files
    copy:
      src: "{{ item }}"
      dest: /usr/share/wallpapers/
    with_fileglob:
      - ./files/wallpapers/*
      when: install_desktop | bool


